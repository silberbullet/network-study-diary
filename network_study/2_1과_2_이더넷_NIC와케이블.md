# 2-1 이더넷, 2-2 NIC와 케이블

스터디 일자 : 2024.8.28 (수) 20:00

[스터디 끝난 회고](#-스터디-끝난-회고)

## 📚 공부 정리

### 📌 이더넷(Ethernet)

- 다양한 통신 매체들의 규격들과 송수신되는 프레임의 형태, 프레임을 주고 받는 방법 등이 정의된 네트워크 기술
- 유선 LAN 환경(물리 계층, 데이터 링크 계층)에서 가장 대중적으로 사용되는 기술

1. **IEEE 802.3**
    - 전기전자공학자협회(IEEE, Institute of Electrical and Electronics Engineers)가 표준화 한 이더넷 관련 표준들의 모음
    - 오늘날 모든 네트워크 장비(허브, 스위치, NIC, 케이블 등등)들은 특정 이더넷 표준을 이해하고, 따르고 있다.
    - 여전히 새로운 표준들도 만들어지고 있다.

2. **통신 매체 표기 형태**
   
   **전송 속도(Data Rate)**

    - 숫자만 표기되어 있다면 Mbps, 숫자 뒤에 G가 붙는 경우 Gbps이다.
        - `100Base-T` : 100Mbps 속도를 지원하는 케이블
      - `2.5GBase-T`: 2.5Gbps 속도를 지원하는 케이블

   **BASE**

    - 베이스밴드(BASEband)의 약자로, 변조 타입(Modulation Type)을 의미한다.
    - 변조 타입은 비트신호로 변환된 데이터를 통신 매체로 전송하는 방식을 의미하며 베이스밴드 외에 다음과 같은 방식이 있다.
        - 베이스밴드: 디지털 정보를 변조 없이 그대로 수신 측에 전송
            - 케이블, 유선 시스템에 사용
        - 브로드밴드: 디지털 정보를 아날로그 신호로 변환하여 수신 측에 전송
            - DSL, 케이블 모뎀, 광섬유 인터넷 등, 대량의 데이터를 빠르게 전송해야 할 때 사용
        - 패스밴드: 베이스밴드 신호를 고주파 신호로 변조하여, 무선 전송을 위해 변조 과정을 거침
            - 무선 전송, 라디오 방송, 위성 통신에 사용

    **추가 특성**

    - 이 곳에 명시할 수 있는 특성의 종류는 다양하다.
        - `10BASE-2`: 전송 가능한 최대 거리 명시
        - `1000BASE-CX`: 물리 계층 인코딩 방식
        - `100GBASE-LR4`: 비트를 전송할 전송로(lane) 

    **통신 매체 종류**
    - C : 동축 케이블
    - T	: 트위스티드 페어 케이블
    - S : 단파장 광섬유 케이블
    - L : 장파장 광섬유 케이블

3. **이더넷 프레임 헤더**

    **프리앰블(Preamble)**

    - 이더넷 프레임의 시작을 알리는 8바이트(64비트) 크기의 정보
        - 첫 7 바이트는 10101010 값을 가진다.
        - 마지막 바이트는 10101011 값을 가진다.
        - 마지막 바이트가 지나면, 본격적인 헤더의 정보를 수신지가 해석하기 시작한다

    **수신지 MAC 주소와 송신지 MAC 주소**
    - MAC 주소는 일반적으로 고유하고, 변경되지 않는 주소로써 네트워크 인터페이스마다 부여된다.
    - NIC(Network Interface Controller) 라는 장치가 네트워크 인터페이스 역할을 담당한다.
    - 윈도우에서는 getmac /v , 리눅스나 MacOS에서는 ifconfig 로 확인할 수 있다.
  
    ```
    📌  MAC 주소란, 네트워크 인터페이스마다 부여되는 6바이트(48비트) 길이의 주소로, LAN 내의 수신지와 송신지를 특정할 수 있다. 허나, 반드시 고유한 것은 아니며, 다만 동일한 네트워크 내에서 MAC 주소가 우연히 같을 확률이 낮을 뿐이다.
    ```

    **타입/길이(이더 필드, Ether-Field)**
   - 필드에 명시된 크기가 1500(16진수 05DC) 이하일 경우, 이 필드는 프레임의 크기를 나타낸다.
       -  이더넷 표준에서 정한 최대 전송 단위(MTU)가 1500바이트이기 때문이다.
    - 1536(16진수 0600) 이상일 경우에는 타입을 나타내는데 사용한다.
        - 상위 계층에서 사용된 프로토콜의 이름이 명시된다. 0800 - IPv4, 86DD - IPv6 …
    - 1500~1536까지의 값은 타입과 프레임 크기에 대한 혼동을 방지하기 위해 사용하지 않는다.

    **데이터**
    - 상위 계층에서 전달 받거나, 전달해야 하는 내용
    - 네트워크 계층의 데이터와 헤더를 합친 PDU가 포함된다.
    - 반드시 일정 데이터(46 바이트) 이상이어야 하며, 그 이하라면 패딩(padding)으로 내부를 채운다.
  
    **FCS(Frame Check Sequence)**
    - 수신한 이더넷 프레임에 오류가 있는지 확인하는 필드
    - CRC(Cyclic Redundancy Check, 순환 중복 검사)라는 오류 검출용 값이 들어간다.
        - 송신지에서는 프리엠블을 제외한 나머지 필드를 통해 CRC 값을 검출하고 FCS에 명시
        - 수신지 에서는 프리앰블과 FCS를 제외한 나머지 필드를 통해 CRC 값을 검출한 뒤, FCS 필드 값과 비교하여, 일치하지 않다면 프레임을 폐기한다.

## ⭐ 스터디 끝난 회고

**MAC 주소는 클라이언트에서 서버로 보낼 수 있다?**
    - python으로 보내는 건 가능하나, javascript로는 불가능 하다. 대신에 식별용 정보를 랜덤으로 생성해서 짠다.
    - 하지만 보안상 대체 정보를 쓰는 걸 권장함.

웹 브라우저 기준으로 네트워크 상으로 말단부 MAC 주소를 전달할 수 없어 디바이스토큰 등 별도로 클라이언트 식별욜 정보를 랜덤으로 생성함. (CSRF 방지라 유사)
직접 만든 애플리케이션으로 통신 시, 시스템의 MAC 주소를 직접 긁어서 네트워크에 담아서 보내면 되지만 보안상 대체 정보를 쓰는 권장함.

**컴퓨터는 100% 랜덤을 만들 수 없다?**
    - 모든 게 산출돼서 나오는 연산 값임 (시드와 함수에 따라 특정 값 패턴으로 출력)
    - 해커가 유추할 수 있는 정보가 될 수도 있음
        - 이를 대비하기 위해 java.security.SecureRandom 이 쓰임 (암호학적으로 안전한 랜덤 함수 사용)       

**고유 식별 주소(MAC)이 어떤 한 상황일때 바뀌는지 다음 시간에 토론하기로 결정!**

